<html>
  <head>
    <title>ODF Toolkit</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="custom.css">
  </head>
  <body>
    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <button data-target="#bs-navbar-collapse" data-toggle="collapse" aria-controls="navbar" aria-expanded="false" type="button" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>
          <a href="index.html" class="navbar-brand">ODF Toolkit</a>
        </div>
        <div class="collapse navbar-collapse" id="bs-navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href="https://www.documentfoundation.org/">The Document Foundation</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right"></ul>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="row">
        <div class="col col-xs-12 col-sm-12">
          <div style="float:right">
            <a href="https://www.documentfoundation.org/"><img src="images/LibreOffice-Initial-Artwork-Logo-ColorLogoBasic-500px.png"></a>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col col-xs-12 col-sm-3">
          <h1>General</h1> 
          <ul class="list-group"> 
            <li class="list-group-item"><a href="index.html">About</a></li> 
            <li class="list-group-item"><a href="downloads.html">Downloads</a></li> 
          </ul> 
          <h1>Components</h1> 
          <ul class="list-group"> 
            <li class="list-group-item"><a href="odfdom/index.html">ODFDOM</a></li> 
            <li class="list-group-item"><a href="simple/index.html">Simple API (deprecated)</a></li> 
            <li class="list-group-item"><a href="conformance/ODFValidator.html">ODF Validator</a></li> 
            <li class="list-group-item"><a href="xsltrunner/ODFXSLTRunner.html">XSLT Runner</a></li> 
          </ul> 
          <h1>Community</h1> 
          <ul class="list-group"> 
            <li class="list-group-item"><a href="get-involved.html">Get Involved</a></li> 
            <li class="list-group-item"><a href="mailing-lists.html">Mailing Lists</a></li> 
            <li class="list-group-item"><a href="people.html">People</a></li> 
            <li class="list-group-item"><a href="developer-faqs.html">FAQs</a></li> 
          </ul> 
          <h1>Development</h1> 
          <ul class="list-group"> 
            <li class="list-group-item"><a href="source.html">Source Code</a></li> 
            <li class="list-group-item"><a href="https://github.com/tdf/odftoolkit/issues">Bug Tracker</a></li> 
            <li class="list-group-item"><a href="javadoc.html">JavaDoc</a></li> 
            <li class="list-group-item"><a href="website-development.html">Website Development</a></li> 
            <li class="list-group-item"><a href="release-guide.html">Release Guide</a></li> 
          </ul> 
          <h1>TDF</h1> 
          <ul class="list-group"> 
            <li class="list-group-item"><a href="https://www.documentfoundation.org/">The Document Foundation</a></li> 
          </ul> 
        </div>
        <div class="col col-xs-12 col-sm-9">
          <h1>Website Development</h1> 
          <h2>Introduction</h2> 
          <p>The pages on this website are written in [markdown syntax] <a href="https://www.apache.org/dev/cmsref.html#markdown">1</a> and stored in our GIT repro at [src/site] <a href="https://github.com/tdf/odftoolkit/tree/master/src/site">2</a></p> 
          <p>We are bundling the previous used [Apache CMS] <a href="https://www.apache.org/dev/cmsref.html">7</a> now as [local CMS] <a href="https://github.com/tdf/odftoolkit/tree/master/src/site/cms">3</a> and capsulating its complexity via [two bash scripts] <a href="https://github.com/tdf/odftoolkit/tree/master/src/site">4</a>. By this it is possible to edit, stage and publish website updates from the command line under Linux (see below)</p> 
          <h2>Overview</h2> 
          <p>This website development page is divided into:</p> 
          <ul> 
            <li><a href="#setup">Setup</a> - How to download the website and setup the tooling.</li> 
            <li><a href="#directory-layout">Directory Layout</a> - Where to find the content, templates, and scripts.</li> 
            <li><a href="#local-development">Local Development</a> - How to build and test locally.</li> 
            <li><a href="#submitting-your-results">Submitting Your Results</a> - How to contribute your edits.</li> 
          </ul> 
          <h2>Setup</h2> 
          <p><strong>NOTE:</strong> Some of us are using on their computer a VirtualBox with Linux (e.g. Ubuntu) just for this environment.</p> 
          <h3>Install Python 2 dependencies</h3> 
          <h4>Check your version of Python</h4> 
          <pre><code>python --version
</code></pre> 
          <p>Source code generation has been tested successfully with Python 2.7.16</p> 
          <h4>Install dependencies</h4> 
          <p>NOTE: The Apache CMS <a href="http://www.apache.org/dev/cmsref.html#local-build">5</a> bundled within the site directory depends on old libraries.</p> 
          <pre><code>sudo apt-get install -y python2.7-elementtree
sudo apt install python-pip
python -m pip install "Markdown==2.6.11"
python -m pip install "Pygments==2.2.0"
</code></pre> 
          <h3>Download the repo</h3> 
          <pre><code>git clone https://github.com/tdf/odftoolkit
cd odftoolkit/src/site
</code></pre> 
          <h2>Directory Layout</h2> 
          <h3>Content directory</h3> 
          <p>The <code>src/site/site/content/odftoolkit</code> directory contains web content - markdown, html, javascript, css, images and other files. Files that do not fit recognized patterns from <code>site/lib/path.pm</code> are copied as is to the web site during the build.</p> 
          <h3>Templates directory</h3> 
          <p>The <code>src/site/site/templates</code> directory contains the html skeletons used during the site build.</p> 
          <ul> 
            <li><code>skeleton.html</code> - our current html page template.</li> 
            <li><code>sidenav.mdtext</code> - markdown of the side navigation panel.</li> 
          </ul> 
          <h3>Lib directory</h3> 
          <p>The <code>src/site/site/lib</code> directory contains two python modules that determine how content files are processed during the site build.</p> 
          <ul> 
            <li><code>path.pm</code> - maps file patterns like <code>.mdtext</code> into the view building routines. We can expand to cover other patterns.</li> 
            <li><code>view.pm</code> - a set of python subroutines for converting content into web pages.</li> 
          </ul> 
          <h3>Build tools</h3> 
          <p>You can find the CMS build tools in the <code>cms</code> directory.</p> 
          <ul> 
            <li><code>src/site/cms/build/</code> - perl scripts for building the site and markdown extensions.</li> 
            <li><code>src/site/cms/conversion-utilities/</code> - scripts used by various projects for conversion including <code>cwiki</code> conversion.</li> 
            <li><code>src/site/cms/webgui/</code> - the webgui behind the <code>bookmarklet</code>.</li> 
          </ul> 
          <h2>Local Development</h2> 
          <h3>Edit the site</h3> 
          <p>Using your favorite editors edit the site content, templates.</p> 
          <h3>Build the site</h3> 
          <p>Run the <code>build-site.sh</code> script to build the markdown to HTML and copy all resources into the odftoolkit/docs directory. Afterthe changes have been merged to the master branch, all changes will become visible at <a href="https://tdf.github.io/odftoolkit/docs/">https://tdf.github.io/odftoolkit/docs/</a></p> 
          <h2>Building JavaDoc and publishing the JavaDoc</h2> 
          <p>JavaDoc is generated as part of the <code>mvn clean install</code> command called from the root of the project. Run the <code>copy-javadoc.sh</code> script to build copy the created API directories into the odftoolkit/docs/api directory and remove any prior files within.</p> 
          <h2>Submitting your results</h2> 
          <h3>Committer</h3> 
          <p>Do the appropriate combination of git status, git add, and git commits.</p> 
          <h3>Contributor</h3> 
          <p>For further information see the <a href="https://help.github.com/en/articles/creating-a-pull-request-from-a-fork">GitHub help on creating a pull request from a fork</a> page.</p> 
        </div>
      </div>
    </div>
    <footer class="footer">
      <div class="container">
        <ul>
          <li><a href="https://www.libreoffice.org/imprint">Impressum</a></li>
          <li><a href="https://www.libreoffice.org/privacy">Privacy policy</a></li>
        </ul>
      </div>
    </footer>
  </body>
</html>